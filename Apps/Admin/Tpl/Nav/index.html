<div class="pagecontent">

    <table title="网站导航" id="navindex" class="easyui-treegrid treegrid">
        <thead>
            <tr>
                <th data-options="field:'cat_id',editor:'text',align:'center'" rowspan="2" width="50">cat_id</th>
                <th data-options="field:'cat_name',editor:'text'" width="200">cat_name</th>
                <th data-options="field:'parent_id',editor:'text'" width="200">parent_id</th>
                <th data-options="field:'myorder',editor:'text'" width="200">myorder</th>
            </tr>
        </thead>
    </table>




    <script>
        $(function(){
            $('#navindex').treegrid({
                url:'__APP__/Nav/json?id=12555553',
                idField:'cat_id',
                treeField:'cat_name',
                pagination:true,
                rownumbers:true,
                fitColumns:true,
                autoRowHeight:false,
                showFooter:true,
                height:460,
                animate:true,
                toolbar:[{
                        id:'navindexbtnadd',
                        text:'添加',
                        iconCls:'icon-add',
                        handler:function(){
                            $('#btnsave').linkbutton('enable');
                            alert('add')
                        }
                    },'-',{
                        id:'navindexbtnedit',
                        text:'编辑',
                        iconCls:'icon-edit',
                        handler:function(){
                            var ids = [];
                            var rows = $('#navindex').datagrid('getSelections');
                            for(var i=0;i<rows.length;i++){
                                ids.push(rows[i].cat_id);
                            }
                            //alert('cancel');
                            alert(ids.join(','));
                        }
                    },'-',{
                        id:'navindexbtncancel',
                        text:'删除',
                        iconCls:'icon-cancel',
                        handler:function(){
                            var ids = [];
                            var rows = $('#navindex').datagrid('getSelections');
                            for(var i=0;i<rows.length;i++){
                                ids.push(rows[i].cat_id);
                                alert(ids.join(','));
                            }
                        }
                    }
                ]
            });
            
            $('.dialog').click(function(){
                $('#dialog').dialog({
                    href:'__APP__/Setting/add',
                    width:500,
                    height:300,
                    resizable:true,
                    buttons:[{
                            text:'保存',
                            iconCls:'icon-ok',
                            handler:function(){
                                alert('ok');
                            }
                        },{
                            text:'取消',
                            handler:function(){
                                $('#dialog').dialog('close');
                            }
                        }],
		
                });
                $('#dialog').dialog('refresh', '__APP__/Setting/add'); 
		
            });
        })
    </script>
    <div id="dialog" data-options="iconCls:'icon-save'">

    </div>
</div><!--pagecontent-->