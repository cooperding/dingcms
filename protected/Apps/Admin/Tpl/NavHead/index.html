

<table id="treegrid_navhead" toolbar="#tb" class="treegrid">

    </table>
    <div id="tb" style="padding:5px;height:auto">
		<div style="margin-bottom:5px">
			<a href="#" id="btnadd_newstab0" class="easyui-linkbutton" iconCls="icon-add" plain="true">添加文档</a>
			<a href="#" id="btndel_newstab0" class="easyui-linkbutton" iconCls="icon-remove" plain="true">删除信息</a>
		</div>
		<div>
			信息搜索: <input style="line-height:16px; height:16px;border:1px solid #ccc;width:120px">
			<a href="#" class="easyui-linkbutton" iconCls="icon-search">Search</a>
		</div>
</div>
    <script>
        $(function(){
            var classId = 'navhead';
            var urljson = '__APP__/NavHead/json';
            var hrefadd = '__APP__/NavHead/add';
            var hrefedit = '__APP__/NavHead/edit';
            var hrefcancel = '__APP__/NavHead/delete';
            openTreeGrid(classId,urljson,hrefadd,hrefedit,hrefcancel);
            $('#treegrid_'+classId).treegrid({
                columns:[[
                        {field:'id',title:'id',width:50},
                        {field:'text',title:'text',width:200},
                        {field:'parent_id',title:'parent_id',width:200},
                        {field:'myorder',title:'myorder',width:80},
                        {field:'action',title:'动作',width:50,
                            formatter : function(value, row, index) {
                                //alert('<a onclick="admin_news_viewFun(\''+row.id+'\')">ddd</a>');
                                return '<img src="http://game.maimaicha.com/jquery-easyui/themes/icons/pencil.png" width="16" height="16" onclick="admin_news_viewFun(\''+row.id+'\')" />';
                                //return '<img src="" width="16" height="16" onclick="admin_news_viewFun(\''+row.id+'\')" />&nbsp;<img src="" width="16" height="16" onclick="admin_news_editFun(\''+row.id+'\')" />&nbsp;<img src="" width="16" height="16" onclick="admin_news_cancelFun(\''+row.id+'\')" />&nbsp;';
                            }
                        }
                    ]]
            })


            /*****news函数--------begin******/
            var admin_news_viewFun = function(id){
                alert("打开前台页面");
            };
            var admin_news_editFun = function(id){
                var classId = 'newstab0';
                var hrefadd = 'news/add.html';
                var title = '添加文档';
                openDialog(classId,hrefadd,title);
            };
            var admin_news_cancelFun = function(id){
                var hrefcancel = 'news/del.html';
                var href = hrefcancel;
                var title = '删除信息';
                $.messager.confirm(title,href, function(){
                    $.ajax({
                        url:href,
                        type:'post',
                        data:{
                            id:ids
                        },
                        dataType:'json',
                        success:function(data){
                            formAjax(data,classId);
                        }
                    });
                });//$
            };
            /*****news函数--------end******/
        })


    </script>
