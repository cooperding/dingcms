<!--
    array('name' => 'varchar', 'text' => '单行文本(varchar)'),
    array('name' => 'textarea', 'text' => '多行文本'),
    array('name' => 'htmltext', 'text' => 'HTML文本'),
    array('name' => 'int', 'text' => '整数类型'),
    array('name' => 'double', 'text' => '小数类型'),
    array('name' => 'datetime', 'text' => '时间类型'),
    array('name' => 'images', 'text' => '图片'),
    array('name' => 'media', 'text' => '多媒体文件'),
    array('name' => 'addon', 'text' => '附件类型'),


    array('name' => 'select', 'text' => '使用option下拉框'),
    array('name' => 'radio', 'text' => '使用radio选项卡'),
    array('name' => 'checkbox', 'text' => 'Checkbox多选框'),

    array('name' => 'stepselect', 'text' => '联动类型')
-->
<foreach name="filed" item="vo">
    <li>
    <if condition="$vo.etype eq 'varchar'">
        <elseif condition="$vo.etype eq 'varchar'"/>
        <label>{$vo.ename}：</label><p><input type="text" name="filed['{$vo.emark}']" value="{$data.emark}{$id}" /></p>
        <elseif condition="$vo.etype eq 'text'"/>
        <label>{$vo.ename}：</label><p><textarea name="filed['{$vo.emark}']" rows="3" cols="30">{$data.emark}</textarea></p>
        <elseif condition="$vo.etype eq 'htmltext'"/>
        <label>{$vo.ename}：</label>
        <p>
            <script>
                $(function() {
                    KindEditor.create('#content_{$vo.emark}', {
                        themeType : 'simple'
                    });
                });
            </script>
            <textarea id="content_{$vo.emark}" name="filed['{$vo.emark}']" style="width:720px;height:400px;visibility:hidden;">{$data.emark}{$id}</textarea>
        </p>
        <elseif condition="$vo.etype eq 'int'"/>
        <label>{$vo.ename}：</label><p><input type="text" name="filed['{$vo.emark}']" value="{$data.emark}" /></p>
        <elseif condition="$vo.etype eq 'double'"/>
        <label>{$vo.ename}：</label><p><input type="text" name="filed['{$vo.emark}']" value="{$data.emark}" /></p>
        <elseif condition="$vo.etype eq 'datetime'"/>
        <label>{$vo.ename}：</label>
        <p>
            <input type="text" class="easyui-datetimebox" data-options="required:true,showSeconds:false" name="filed['{$vo.emark}']" value="{$data.emark|date='Y-m-d H:i:s',###}" />
        </p>
        <elseif condition="$vo.etype eq 'images'"/>
        <script>
            $(function() {
                var editor = KindEditor.editor({
                    allowFileManager : true
                });
                KindEditor('#image_{$vo.emark}').click(function() {
                    editor.loadPlugin('image', function() {
                        editor.plugin.imageDialog({
                            imageUrl : KindEditor('#url_{$vo.emark}').val(),
                            clickFn : function(url, title, width, height, border, align) {
                                KindEditor('#url_{$vo.emark}').val(url);
                                editor.hideDialog();
                            }
                        });
                    });
                });
            });
        </script>
        <label>{$vo.ename}:</label>
        <p>
            <input type="text" id="url_{$vo.emark}" name="filed['{$vo.emark}']" value="{$data.emark}" readonly="readonly"/>
            <input type="button" id="image_{$vo.emark}" value="选择图片" />
        </p>
        <elseif condition="($vo.etype eq 'addon') OR ($vo.etype eq 'media')"/>
        <script>
            $(function() {
                var editorfile = KindEditor.editor({
                    allowFileManager : true
                });
                KindEditor('#insertfile_{$vo.emark}').click(function() {
                    editorfile.loadPlugin('insertfile', function() {
                        editorfile.plugin.fileDialog({
                            fileUrl : KindEditor('#url_{$vo.emark}').val(),
                            clickFn : function(url, title) {
                                KindEditor('#url_{$vo.emark}').val(url);
                                editorfile.hideDialog();
                            }
                        });
                    });
                });
            });
        </script>
        <label>{$vo.ename}：</label>
        <p>
            <input type="text" id="url_{$vo.emark}" name="filed['{$vo.emark}']" value="{$data.emark}" readonly="readonly"/>
            <input type="button" id="insertfile_{$vo.emark}" value="选择文件" />
        </p>
        <elseif condition="$vo.etype eq 'select'"/>
        <label>{$vo.ename}：</label>
        <p>
            <select name="{$vo.emark}">
                
                <volist name="vo.opts" id="opts" key="k">
                    <if condition="$data.emark eq $opts">
                        <option value="{$opts}" selected="selected">{$opts}</option>
                    <else/>
                        <option value="{$opts}">{$opts}</option>
                    </if>
                </volist> 
            </select>
        </p>
        <elseif condition="$vo.etype eq 'radio'"/>
        <label>{$vo.ename}：</label>
        <p>
        <volist name="vo.opts" id="opts" key="k">
            <if condition="$data.emark eq $opts">
                <input name="filed['{$vo.emark}']" type="radio" value="{$opts}" checked="checked"/>{$opts}
            <else/>
                <input name="filed['{$vo.emark}']" type="radio" value="{$opts}"/>{$opts}
            </if>
        </volist>
        </p>
        <elseif condition="$vo.etype eq 'checkbox'"/>
        <label>{$vo.ename}：</label>
        <p>
        <volist name="vo.opts" id="opts" key="k">
            <if condition="$data.emark eq $opts">
                <input name="filed['{$vo.emark}']" type="checkbox" value="{$opts}" checked="checked"/>{$opts}
            <else/>
                <input name="filed['{$vo.emark}']" type="checkbox" value="{$opts}"/>{$opts}
            </if>
        </volist>
        <!--<input type="text" name="filed['{$vo.emark}']" value="{$data.emark}" />-->
        </p>
        <elseif condition="$vo.etype eq 'stepselect'"/>
        <label>{$vo.ename}：</label>
        <p>
            <input name="filed['{$vo.emark}']" value="{$data.emark}" class="easyui-combotree combotree"
                   data-options="url:'__APP__/LinkPage/jsonTreeId?id={$vo.elink}'" style="width:200px;"/>
        </p>
    </if>


</li>
</foreach>

